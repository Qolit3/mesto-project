(()=>{"use strict";var e=document.querySelector("#edit"),t=document.querySelector(".profile__edit"),n=document.querySelector("#closeEdit");function r(e){var t;e.classList.add("popup_opened"),(t=e).addEventListener("click",function(e){o(e)}(t)),t.addEventListener("keydown",g)}function o(e){e.classList.remove("popup_opened")}t.addEventListener("click",(function(){return r(e)})),n.addEventListener("click",(function(){return o(e)}));var c=document.querySelector(".profile__name"),d=document.querySelector(".profile__description"),a=document.querySelector("#editName"),u=document.querySelector("#editDescription"),i=document.querySelector("#editForm");i.addEventListener("submit",(function(e){e.preventDefault();var t=a.value,n=u.value;c.textContent=t,d.textContent=n})),i.addEventListener("submit",(function(){return o(e)}));for(var l=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],s=document.querySelector(".elements"),p=document.querySelector("#card").content,m=0;m<l.length;m++)s.prepend(_(l[m].name,l[m].link));var v=document.querySelector("#addForm");function _(e,t){var n=p.querySelector(".element").cloneNode(!0);return n.querySelector(".element__image").src=t,n.querySelector(".element__name").textContent=e,n.querySelector(".element__heart").addEventListener("click",(function(e){e.target.classList.toggle("element__heart_active")})),n.querySelector(".element__image").addEventListener("click",(function(){k.src=t,L.textContent=e,r(S)})),n.querySelector(".element__delete").addEventListener("click",(function(){n.remove()})),n}v.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector("#addName"),n=document.querySelector("#addLink");s.prepend(_(t.value,n.value)),t.value="",n.value=""})),v.addEventListener("submit",(function(){return o(y)}));var y=document.querySelector("#add"),f=document.querySelector(".profile__add"),q=document.querySelector("#closeAdd");f.addEventListener("click",(function(){return r(y)})),q.addEventListener("click",(function(){return o(y)}));var S=document.querySelector("#image"),k=document.querySelector(".popup__image"),L=document.querySelector(".popup__image-text");function g(e){27===e.keyCode&&(console.log(e.key),o(document.querySelector("#".concat(e.target.id))))}document.querySelector("#closeImage").addEventListener("click",(function(){return o(S)}));var E=document.querySelector("#editForm");E.querySelector("#editName"),Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){e.addEventListener("submit",(function(e){return e.preventDefault()})),function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__save");t.forEach((function(r){r.addEventListener("input",(function(){var o;(function(e,t){E.valid?function(e,t){var n=e.querySelector("#".concat(t.id,"Validate"));t.classList.remove("popup__input_er"),n.classList.remove("popup__validate_active"),n.textContent=""}(e,t):function(e,t,n){var r=e.querySelector("#".concat(t.id,"Validate"));t.classList.add("popup__input_er"),console.log(n),r.textContent=n,r.classList.add("popup__validate_active")}(e,t,t.validationMessage)})(e,r),o=n,t.some((function(e){return!e.valid}))?(o.disabled=!0,o.classList.add("popup__save_inactive")):(o.disabled=!1,o.classList.remove("popup__save_inactive"))}))}))}(e)}))})();